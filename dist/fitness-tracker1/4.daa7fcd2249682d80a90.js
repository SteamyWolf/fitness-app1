(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{CKRj:function(t,e,n){"use strict";n.r(e),n.d(e,"TrainingModule",(function(){return J}));var i=n("3Pt+"),c=n("PCNd"),a=n("tyNb"),r=n("fXoL"),s=n("vEl1"),o=n("ofXK"),b=n("wZkO"),l=n("y8OW"),u=n("XiUz"),m=n("Wp6s"),g=n("kmnG"),p=n("d3UM"),d=n("FKr1"),f=n("Xa2L"),h=n("bTqV");function y(t,e){if(1&t&&(r.Ub(0,"mat-option",10),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.lc("value",t.id),r.Cb(1),r.Bc(" ",t.name," ")}}function C(t,e){if(1&t&&(r.Ub(0,"mat-form-field"),r.Ub(1,"mat-select",8),r.yc(2,y,2,2,"mat-option",9),r.Tb(),r.Tb()),2&t){const t=r.gc();r.Cb(2),r.lc("ngForOf",t.exercises)}}function T(t,e){1&t&&r.Pb(0,"mat-spinner")}function S(t,e){if(1&t&&(r.Ub(0,"button",13),r.zc(1,"Start"),r.Tb()),2&t){r.gc(2);const t=r.qc(2);r.lc("disabled",t.invalid)}}function x(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",14),r.cc("click",(function(){return r.sc(t),r.gc(2).fetchExercises()})),r.zc(1,"Fetch Again"),r.Tb()}}function v(t,e){if(1&t&&(r.Ub(0,"mat-card-actions",5),r.yc(1,S,2,1,"button",11),r.yc(2,x,2,0,"button",12),r.Tb()),2&t){const t=r.gc();r.Cb(1),r.lc("ngIf",t.exercises),r.Cb(1),r.lc("ngIf",!t.exercises)}}let U=(()=>{class t{constructor(t,e){this.trainingService=t,this.uiService=e,this.spinnerLoading=!0}ngOnInit(){this.fetchExercises(),this.subscription=this.trainingService.exercisesChanged.subscribe(t=>this.exercises=t),this.loadingSub=this.uiService.loadingStateChanged.subscribe(t=>{this.spinnerLoading=t})}onStartTraining(t){this.trainingService.startExercise(t.value.exercise)}fetchExercises(){this.trainingService.fetchExercises()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.loadingSub&&this.loadingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(s.a),r.Ob(l.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-new-training"]],decls:10,vars:3,consts:[["fxLayout","row","fxLayoutAlign","center",1,"new_training"],[3,"ngSubmit"],["f","ngForm"],["fxFlex.xs","100%","fxFlex","400px"],["fxLayoutAlign","center",1,"mat-title"],["fxLayoutAlign","center"],[4,"ngIf"],["fxLayoutAlign","center",4,"ngIf"],["placeholder","Choose an exercise","ngModel","","name","exercise","required",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-raised-button","","color","accent","type","submit",3,"disabled",4,"ngIf"],["mat-raised-button","","color","accent","type","button",3,"click",4,"ngIf"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],["mat-raised-button","","color","accent","type","button",3,"click"]],template:function(t,e){if(1&t){const t=r.Vb();r.Ub(0,"section",0),r.Ub(1,"form",1,2),r.cc("ngSubmit",(function(){r.sc(t);const n=r.qc(2);return e.onStartTraining(n)})),r.Ub(3,"mat-card",3),r.Ub(4,"mat-card-title",4),r.zc(5,"Time to Start a Workout"),r.Tb(),r.Ub(6,"mat-card-content",5),r.yc(7,C,3,1,"mat-form-field",6),r.yc(8,T,1,0,"mat-spinner",6),r.Tb(),r.yc(9,v,3,2,"mat-card-actions",7),r.Tb(),r.Tb(),r.Tb()}2&t&&(r.Cb(7),r.lc("ngIf",!e.spinnerLoading&&e.exercises),r.Cb(1),r.lc("ngIf",e.spinnerLoading),r.Cb(1),r.lc("ngIf",!e.spinnerLoading))},directives:[u.c,u.b,i.u,i.o,i.p,m.a,u.a,m.e,m.c,o.m,g.c,p.a,i.n,i.q,i.s,o.l,d.n,f.c,m.b,h.a],styles:[".new_training[_ngcontent-%COMP%]{padding:30px}.mat-title[_ngcontent-%COMP%]{padding-bottom:15px}mat-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})();var w=n("+0xr"),I=n("Dh3D"),O=n("M9IT"),z=n("qFsG");function D(t,e){1&t&&(r.Ub(0,"mat-header-cell",15),r.zc(1,"Date"),r.Tb())}function L(t,e){if(1&t&&(r.Ub(0,"mat-cell"),r.zc(1),r.hc(2,"date"),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.Ac(r.ic(2,1,t.date.toDate()))}}function P(t,e){1&t&&(r.Ub(0,"mat-header-cell",15),r.zc(1,"Name"),r.Tb())}function R(t,e){if(1&t&&(r.Ub(0,"mat-cell"),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.Ac(t.name)}}function A(t,e){1&t&&(r.Ub(0,"mat-header-cell",15),r.zc(1,"Calories"),r.Tb())}function F(t,e){if(1&t&&(r.Ub(0,"mat-cell"),r.zc(1),r.hc(2,"number"),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.Ac(r.ic(2,1,t.calories))}}function k(t,e){1&t&&(r.Ub(0,"mat-header-cell",15),r.zc(1,"Duration"),r.Tb())}function E(t,e){if(1&t&&(r.Ub(0,"mat-cell"),r.zc(1),r.hc(2,"number"),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.Ac(r.ic(2,1,t.duration))}}function M(t,e){1&t&&(r.Ub(0,"mat-header-cell",15),r.zc(1,"State"),r.Tb())}function _(t,e){if(1&t&&(r.Ub(0,"mat-cell"),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.Ac(t.state)}}function q(t,e){1&t&&r.Pb(0,"mat-header-row")}function $(t,e){1&t&&r.Pb(0,"mat-row")}const j=function(){return[5,10,20]};let N=(()=>{class t{constructor(t){this.trainingService=t,this.displayedColumns=["date","name","calories","duration","state"],this.dataSource=new w.k}ngOnInit(){this.subscription=this.trainingService.finishedExercisesChanged.subscribe(t=>{this.dataSource.data=t}),this.trainingService.fetchCompletedorCanceledExercises()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}doFilter(t){this.dataSource.filter=t.trim().toLowerCase()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(s.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-past-trainings"]],viewQuery:function(t,e){var n;1&t&&(r.Dc(I.a,!0),r.Dc(O.a,!0)),2&t&&(r.pc(n=r.dc())&&(e.sort=n.first),r.pc(n=r.dc())&&(e.paginator=n.first))},decls:23,vars:5,consts:[["fxLayoutAlign","center center"],["fxFlex","40%"],["matInput","","type","text","placeholder","Filter",3,"keyup"],["matSort","",3,"dataSource"],["matColumnDef","date"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","calories"],["matColumnDef","duration"],["matColumnDef","state"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["paginator",""],["mat-sort-header",""]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"mat-form-field",1),r.Ub(2,"input",2),r.cc("keyup",(function(t){return e.doFilter(t.target.value)})),r.Tb(),r.Tb(),r.Tb(),r.Ub(3,"mat-table",3),r.Sb(4,4),r.yc(5,D,2,0,"mat-header-cell",5),r.yc(6,L,3,3,"mat-cell",6),r.Rb(),r.Sb(7,7),r.yc(8,P,2,0,"mat-header-cell",5),r.yc(9,R,2,1,"mat-cell",6),r.Rb(),r.Sb(10,8),r.yc(11,A,2,0,"mat-header-cell",5),r.yc(12,F,3,3,"mat-cell",6),r.Rb(),r.Sb(13,9),r.yc(14,k,2,0,"mat-header-cell",5),r.yc(15,E,3,3,"mat-cell",6),r.Rb(),r.Sb(16,10),r.yc(17,M,2,0,"mat-header-cell",5),r.yc(18,_,2,1,"mat-cell",6),r.Rb(),r.yc(19,q,1,0,"mat-header-row",11),r.yc(20,$,1,0,"mat-row",12),r.Tb(),r.Pb(21,"mat-paginator",13,14)),2&t&&(r.Cb(3),r.lc("dataSource",e.dataSource),r.Cb(16),r.lc("matHeaderRowDef",e.displayedColumns),r.Cb(1),r.lc("matRowDefColumns",e.displayedColumns),r.Cb(1),r.lc("pageSizeOptions",r.mc(4,j)))},directives:[u.b,g.c,u.a,z.b,w.j,I.a,w.c,w.e,w.b,w.g,w.i,O.a,w.d,I.b,w.a,w.f,w.h],pipes:[o.e,o.f],styles:[""]}),t})();var B=n("0IaG");let G=(()=>{class t{constructor(t){this.passedData=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(B.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-stop-training"]],decls:10,vars:3,consts:[["mat-dialog-title",""],["mat-raised-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Ub(0,"h1",0),r.zc(1,"Are you sure?"),r.Tb(),r.Ub(2,"mat-dialog-content"),r.Ub(3,"p"),r.zc(4),r.Tb(),r.Tb(),r.Ub(5,"mat-dialog-actions"),r.Ub(6,"button",1),r.zc(7,"Yes"),r.Tb(),r.Ub(8,"button",1),r.zc(9,"No"),r.Tb(),r.Tb()),2&t&&(r.Cb(4),r.Bc("You already got ",e.passedData.progress,"%"),r.Cb(2),r.lc("mat-dialog-close",!0),r.Cb(2),r.lc("mat-dialog-close",!1))},directives:[B.g,B.e,B.c,h.a,B.d],encapsulation:2}),t})(),K=(()=>{class t{constructor(t,e){this.dialog=t,this.trainingService=e,this.progress=0}ngOnInit(){this.startOrResumeTimer()}startOrResumeTimer(){const t=this.trainingService.getRunningExercise().duration/100*1e3;this.timer=setInterval(()=>{this.progress=this.progress+1,this.progress>=100&&(this.trainingService.completeExercise(),clearInterval(this.timer))},t)}onStop(){clearInterval(this.timer),this.dialog.open(G,{data:{progress:this.progress}}).afterClosed().subscribe(t=>{t?this.trainingService.cancelExercise(this.progress):this.startOrResumeTimer()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(B.b),r.Ob(s.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-current-training"]],decls:8,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"current_training"],["mode","determinate",3,"value"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"section",0),r.Pb(1,"mat-progress-spinner",1),r.Ub(2,"h1"),r.zc(3),r.Tb(),r.Ub(4,"p"),r.zc(5,"Keep on Going, you can do it!"),r.Tb(),r.Ub(6,"button",2),r.cc("click",(function(){return e.onStop()})),r.zc(7,"Stop"),r.Tb(),r.Tb()),2&t&&(r.Cb(1),r.lc("value",e.progress),r.Cb(2),r.Bc("",e.progress,"%"))},directives:[u.c,u.b,f.a,h.a],styles:[".current_training[_ngcontent-%COMP%]{padding:30px}"]}),t})();function V(t,e){1&t&&(r.Ub(0,"mat-tab-group"),r.Ub(1,"mat-tab",1),r.Pb(2,"app-new-training"),r.Tb(),r.Ub(3,"mat-tab",2),r.Pb(4,"app-past-trainings"),r.Tb(),r.Tb())}function X(t,e){1&t&&r.Pb(0,"app-current-training")}const H=[{path:"",component:(()=>{class t{constructor(t){this.trainingService=t,this.ongoingTraining=!1}ngOnInit(){this.subscription=this.trainingService.exerciseChanged.subscribe(t=>{this.ongoingTraining=!!t})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(s.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-traning"]],decls:2,vars:2,consts:[[4,"ngIf"],["label","New Exercise"],["label","Past Exercises"]],template:function(t,e){1&t&&(r.yc(0,V,5,0,"mat-tab-group",0),r.yc(1,X,1,0,"app-current-training",0)),2&t&&(r.lc("ngIf",!e.ongoingTraining),r.Cb(1),r.lc("ngIf",e.ongoingTraining))},directives:[o.m,b.b,b.a,U,N,K],styles:[""]}),t})()}];let W=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[a.c.forChild(H)],a.c]}),t})(),J=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[i.r,c.a,W]]}),t})()}}]);